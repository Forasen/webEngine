计算机研究与发展
JOURNAL OF COMPUTER RESEARCH AND DEVELOPMENT
1999年 第36卷 第9期 Vol.36 No.9 1999



数字电路并发差错检测的新概念
江建慧　闵应骅　施鸿宝
摘　要　并发差错检测是提高数字电路与系统可信性的重要技术.文中建立了一种基本并发差错检测电路的结构模型，它由实现电路基本功能的基本功能模块和实现电路并发差错检测功能的检测器两部分级联所构成；提出了表征基于部分自校验概念的并发差错检测机制的一组新概念：精简强故障保险、精简强变量分离、精简强自校验、k-容错精简强故障保险、k-容错精简强变量分离和k-容错精简强自校验，并研究了数字电路并发差错检测的主要概念之间的关系；证明了用基本功能模块与检测器互连，以构造具有不同并发差错检测特性的基本电路所需满足的条件.　　
关键词　部分自校验，精简强故障保险，精简强变量分离，k-容错精简强故障保险，k-容错精简强变量分离，电路互连
中图法分类号　TP302.8；TP331.1
NEW CONCEPTS OF CONCURRENT ERROR DETECTION FOR DIGITAL CIRCUITS
JIANG Jian-Hui SHI Hong-Bao
Institute of Computing Technology, Shanghai Tiedao University, Shanghai 200331
MIN Ying-Hua JIANG Jian-Hui
CAD Laboratory, Institute of Computing Technology, Chinese Academy of Sciences, Beijing 100080
Abstract　Concurrent error detection is important for improving dependability of digital circuits and systems. In this paper, a structure module for basic concurrent error detection circuit is built. It is constructed by a basic functional module and a detector. Several new concepts, reduced strongly fault secure, reduced strongly variable disjoint, reduced strongly self-checking, k-fault-tolerant reduced strongly fault secure, k- fault-tolerant reduced strongly variable disjoint, and k- fault-tolerant reduced strongly self-checking are defined to characterize circuits with partially self-checking capability. The relations among all of these concepts about concurrent error detection are presented. Interconnection conditions, with which the basic functional modules and detectors must satisfy to construct basic circuits with different concurrent error detection properties, are proved.
Key words　partially self-checking, reduced strongly fault secure, reduced strongly variable disjoint, k-fault-tolerant reduced strongly fault secure, k-fault-tolerant reduced strongly variable disjoint, circuit interconnection
1　引言
　　并发差错检测、故障安全和差错校正是数字电路和系统容错的三类重要技术，并发差错检测技术直接为系统的在线重构提供支持，故障安全技术用于防卫数字电路出现非安全差错，差错校正技术用于保证产生故障的电路仍尽可能地给出正确输出［1，2］.随着数字电路集成规模和应用领域的不断扩大、工作速度的飞速提高，它们可望进入保证高性能集成电路正常工作的基本技术之列.
　　一个典型的故障(差错)处理过程包括故障(差错)检测、定位、差错校正或重构和恢复等步骤.一个理想的电路在内部产生故障时，希望其功能输出保持安全或正确，同时还应给出相应的差错检测或故障定位指示信息.并发差错检测电路在正常工作条件下能自动检测其内部(包含差错检测电路本身)是否存在故障，它只需正常输入(电路的所有测试码均包含其中)，而无需任何外加激励(测试码)［1～3］.因此，为进一步提高容错系统的在线故障(差错)处理能力，继续深入研究并发差错检测技术仍具有相当重要的意义.
　　80年代中期以前有关并发差错检测技术研究的主要成果在许多文献中都作了较为系统的总结［1～3］.本文第2部分建立了一种基本并发差错检测电路(以下简称基本电路)的结构模型，它由实现电路基本功能的基本功能模块和实现电路并发差错检测功能的检测器(detector)两部分级联所构成，电路的输出矢量被划分成功能输出和差错检测指示输出两部分：第3部分总结了自校验电路的基本功能模块与校验器(checker)的基本特性；第4部分在输出矢量划分的结构模型下重新定义了基本电路的若干特性，提出了一组表征基于部分自校验(partially self-checking，PSC)概念的并发差错检测机制的新概念，并着重研究了这些新概念与已有概念之间的关系，这些新概念还指出了构造并发差错检测电路的新途径；第5部分证明了用基本功能模块与检测器互连，以构造具有不同并发差错检测特性的基本电路所需满足的条件.
2　基本电路的模块结构与故障假设
　　一个具有m个输入和n个输出的组合逻辑电路，它所实现的函数表示为G，它的所有可能的原始输入矢量X(矢量长度为m)组成它的完全输入集，记作S(Xm)，所有可能的原始输出矢量Y(矢量长度为n)组成它的完全输出集，记作S(Yn).电路的所有合法输入矢量构成它的合法输入矢量集，记作Sn(Xm)，对应的所有合法输出矢量构成合法输出矢量集，记作Sn(Yn).对编码矢量，合法矢量集由所有码字组成，非法矢量集由所有非码字组成.S(Xm)-Sn(Xm)被称为是非法输入矢量集，记作Sa(Xm).S(Yn)-Sn(Yn).被称为非法输出矢量集，记作Sa(Yn).
　　基本电路的原始输出Y可被分割为两部分(Z，E)，其中，Z(矢量长度为u)和E(矢量长度为v) 分别为电路的功能输出和差错检测指示输出［4］ ，u+v=n.所有的功能输出和差错检测指示输出分别组成基本电路的功能输出集S(Zu)和差错检测指示输出集S(Ev).类似地，S(Zu)可作如下划分：S(Zu)=Sn(Zu)∪Sa(Zu)，其中，Sn(Zu)和Sa(Zu)分别表示合法功能输出矢量集和非法功能输出矢量集.S(Ev)也可作如下划分：S(Ev)=Sn(Ev)∪Sa(Ev)，其中，Sn(Ev)是电路的功能输出无差错指示矢量集，电路给出该集合中的矢量，表明其功能输出是正确的；Sa(Ev)是电路出现差错指示矢量集，电路给出该集合中的矢量，表明其内部出现了故障，故障所引起的差错已被检测到.然而，由于S(Yn)=S(Zu)×S(Ev)，因此从逻辑上考虑，S(Yn)可划分为3部分，即
S(Yn)=Sn(Yn)∪Sd(Yn)∪Su(Yn),
每一部分的组成分别为
Sn(Yn)={(Z,E)|Z∈Sn(Zu)∧E∈Sn(Ev)},
Sd(Yn)={(Z,E)|Z∈S(Zu)∧E∈Sa(Ev)},
Su(Yn)={(Z,E)|Z∈Sa(Zu)∧E∈Sn(Ev)}.
其中，Sd(Yn)表示差错检测输出矢量集，Su(Yn)表示未定义(无意义)输出矢量集，它们组成了基本电路的非法输出矢量集.由于检测器防护范围的界限是从基本功能模块的输入端至检测器的输出端，那么，根据输出矢量所代表的实际意义，当Z为非法输出时，E不可能给出合法输出，因此，可假设Su(Yn)=，表示空集.
　　一个基本电路由两个部分级联而成(如图1所示)，一是实现函数Ω的基本功能模块，二是实现函数Θd的检测器.在图1中，W∈S(Ww)(矢量长度为w)是基本功能模块的输出（也是检测器的输入），其它变量的意义如前所述.S(Ww)是基本功能模块的完全输出矢量集，即检测器的完全输入矢量集，它也可划分为合法输入集Sn(Ww)与非法输入集Sa(Ww)两个互不相交的子集.因此，X∈S(Xm)，有Ω(X)=W，Θd(W)=Y，或者G(X)=Y.若(Z，E)被表示为或(ΘZd(W),ΘEd(W))或(GZ（X），GE（X）)，则在正常情况下，应有ΘZd(W)=GZ(X)和ΘZd(W)=GE(X).

图1　基本并发差错检测电路的结构模型
　　对一个基本自校验电路(见图2)，上述模型中的检测器可看成是由一组传输线(实现ΘZd，直接将完整的W或其中一部分送至检测器的功能输出端)和校验器(实现ΘEd)所组成的.

图2　基本自校验电路的典型结构
　　基本电路可用作构造并发差错检测系统的基本元件.
　　本文约定，若不特别指出，所研究的数字电路满足假设1.设基本电路所考虑的所有单故障所组成的故障集为F，产生内部故障后电路所实现的函数表示为Gf.
　　假设1. 电路中的每一故障均可按门级或开关级故障加以模型化.
　　针对不同的实际电路，需要采用不同严格程度的故障假设，以便合理地表征其并发差错检测能力.下面的假设2便是一个严格的故障假设，它常被用于作为定义并发差错检测概念，如完全自校验(totally self-checking，TSC)，的基本假设.假设3是文献［5］有关故障假设的简单修改.
　　假设2. 电路在任一时刻只产生一个故障，且任意两个连续产生的故障之间的时间间隔足够长，可使所有所需的输入矢量出现在电路的输入端上.
　　假设3. 当一个影响检测器(校验器)的故障发生后，电路有足够的时间在基本功能模块或检测器(校验器)产生另一个故障前，使得检测器(校验器)能够将其合法输入集中的所有输入矢量加到它的输入端.当一个影响基本功能模块的故障发生后，电路有足够的时间在基本功能模块或检测器(校验器)产生另一个故障前，使得基本功能模块能够将其合法输入集中的所有输入矢量加到它的输入端.
3　自校验电路基础
3.1　基本功能模块(基本电路)的构造途径
　　基本自校验电路的并发差错检测特性可由完全自校验概念来表征，它所实现的是所谓的完全自校验目标(TSC goal).若把电路的输入和输出矢量看成是某种差错检测码，则完全自校验目标指的是在给定的故障假设下，电路由于故障而产生的第一个非法输出总是一个非码字［6，7］.实现完全自校验目标可有如下途径.
　　途径1. 使电路同时具有故障保险(fault secure，FSE)和自测试(self-testing，ST)两个基本特性［1～3］.这是一条相当严格的实现途径，因为电路存在冗余的可能性很大，而对于f∈F是冗余的电路将无法对于F具有自测试特性.因此，电路按此途径实现较为困难.
　　途径2. 使电路具有强故障保险(strongly FSE，SFSE)特性［6，7］.
　　在现有VLSI实现技术条件下，这一途径的实现也有一定的困难.实际电路可通过限制电路所考虑的故障序列的长度来有限地实现完全自校验目标(见如下途径).
　　途径3. 使电路具有k-容错部分强故障保险(k- fault tolerant partially SFSE，k-FT PSFSE)特性［8］.
　　当并发差错检测电路所具有的完全自校验特性仅对F的某个子集有效时，可用部分自校验概念来对它进行描述［1，9］，这是通过缩小电路所考虑的故障集来有限地实现完全自校验目标的方法.
　　途径4. 使电路具有部分自校验特性［1］.
　　另外，若电路对合法输入集与FST（FSTF）是自测试的，但对合法输入集的某个子集及FST的某个子集不是故障保险的，则可用自测试特性来对其进行描述［1，10］.类似地，若任意输入矢量都能检测电路中的故障，则可用强自测试(strongly ST，SST)特性来对其进行表征［1，10］.
3.2　校验器的特性
　　若一个电路具有码分离(code-disjoint，CD)、故障保险和自测试特性，则该电路被称作为完全自校验校验器［1，3］.然而，在有的情况下，故障保险特性对校验器而言并不是必须的［11］，这种校验器可被简称为自校验校验器.若校验器的自测试特性难以满足，则在满足假设3的前提下，可构造一种具有强码分离(strongly CD，SCD)特性的校验器［5］.近年来，针对电路的不同实现技术，已提出了若干种新型校验器的实现方案.
　　(1) k-容错部分强码分离校验器与k-容错部分强故障保险校验器［8，12］
　　强码分离校验器在一般情况下是较难实现的.考虑到VLSI电路在开关级和布局上物理故障的特点，实际获得的是k-容错部分强码分离(k-fault-tolerant partially SCD，k-FT PSCD) 校验器与k-容错部分强故障保险校验器.强码分离校验器与k-容错部分强码分离校验器的区别主要在于，前者可通过一个输入码字最终将校验器中的所有累积故障检测到，而后者最多能容忍k-1个故障，且它们能否被检测是不确定的.k-容错部分强码分离校验器在内部产生了一个长度为k的故障序列后，它就处于非保险状态.此时若再有一个非码字加到它的输入端(等价于基本电路中产生了k+1个故障)，则其码分离特性是不保证的.
　　(2) 强自校验校验器［13］
　　若一个并发差错检测系统中含有多个具有不同特性的校验器，为使其达到完全自校验目标，还必须采用一种强自校验(strongly self-checking，SSC)校验器，它同时具有强故障保险和强码分离特性.
　　(3) k-容错部分强自校验校验器［8］
　　类似于强码分离校验器与k-容错部分强码分离校验器的关系，也有一种k-容错部分强自校验(k-FT partially SSC，k-FT PSSC) 校验器，文献［8］称之为k-容错部分强码分离和部分强故障保险校验器.
4　输出矢量划分模型下基本电路的特性
4.1　检测器的特性
　　在图1所示的基本电路结构模型下，基本功能模块与基本电路的并发差错检测特性的表征可直接沿用自校验电路有关特性的定义，但由于检测器的输出矢量作了划分，因此有关检测器的若干并发差错检测概念需重新定义.
　　检测器的主要功能是检查基本功能模块输出矢量的合法性，并将基本电路所产生的故障及时地检测出来.本文采用变量分离(variable disjoint，VD)概念来表征这一功能［1］.若将输入或输出矢量统一地看成是用编码方式生成的码字，则变量分离特性就是码分离特性.
　　定义1. 一个检测器是变量分离的，若它满足① W∈Sn(Ww)，有ΘZd(W)=GZ(X)，W=Ω（X），X∈Sn(Xm)，且ΘEd∈Sn(Ev)，或者②W∈Sa(Ww)，有ΘZd(W)∈Sa(Zu)和ΘEd(W)∈Sa(Ev).
　　设检测器所考虑的单故障集为FΘd.
　　定义2. 一个检测器对于FΘd是故障保险的，若对f∈FΘd，W∈Sn(Ww)，有ΘZdf(W)=ΘZd(W)和ΘEdf(W)=ΘEd(W)，或者ΘZdf(W)∈Sa(Zu)和ΘEdf(W)∈Sa(Ev).
　　定义3. 一个检测器对FΘd是自测试的，若对f∈FΘd，W∈Sn(Ww)，有ΘZdf(W)∈Sa(Zu)和ΘEdf(W)∈Sa(Ev).
　　定义4. 一个电路对FΘd是完全自校验的检测器，若它是变量分离的和完全自校验的.
　　定义5. 在无故障期间，检测器是故障保险的.它满足对一个故障序列〈f1,f2…，fk-1〉，fj∈FΘd，j=1,2,…,k-1，2≤k≤‖FΘd‖，W∈Sn(Ww)，有ΘZd〈f1,f2,…,fk-1〉(W)=ΘZd(W)和ΘEd〈f1,f2,…,fk-1〉(W)=ΘEd(W)，或者ΘZd〈f1,f2,…,fk-1〉(W)∈Sa(Zu)和ΘEd〈f1,f2,…,fk-1〉(W)∈Sa(Ev).而且对故障序列〈f1,f2,…,fk〉，W∈Sn(Ww)，有ΘZd〈f1,f2,…,fk〉(W)∈Sa(Zu)和ΘEd〈f1,f2,…,fk〉(W)∈Sa(Ev)，则检测器对故障序列〈f1,f2,…,fk〉是强故障保险的.　　
　　定义6. 一个检测器对FΘd是强故障保险的，若它对由FΘd中的所有故障所组成的所有故障序列都是强故障保险的.
　　定义7. 设k是一个最小整数，它满足对一个故障序列〈f1,f2…，fk-1〉，fi∈FΘd，i=1,2,…,k，实现函数Θd〈f1,f2…，fk〉的检测器丧失故障保险特性，且不存在一个合法输入矢量能检测到该故障序列.那么，该检测器是k-容错部分强故障保险的，如果该检测器是故障保险的，且对任意故障序列和任何整数q，1≤q≤k-1，或者检测器是故障保险的，或者故障序列〈f1,f2…，fq〉可被检测到.
　　定义8. 在无故障期间，检测器是变量分离的.它满足对一个故障序列〈f1,f2…，fk-1〉，fj.∈FΘd，j=1，2,…,k-1，2≤k≤FΘd，W∈Sn(Ww)，有ΘZd〈f1,f2…，fk〉(W)=ΘZd(W)和ΘEd〈f1,f2…，fk〉(W)∈Sn(Ev)；W∈Sa(Ww)，有ΘZd〈f1,f2…，fk〉(W)∈Sa(Zu)和ΘEd〈f1,f2…，fk〉(W)∈Sa(Ev)。且对故障序列〈f1，f2，…，fk〉，W∈Sn(Ww)，有ΘZd〈f1,f2…，fk〉(W)∈Sa(Zu)和ΘEd〈f1,f2…，fk〉(W)∈Sa(Ev)，则检测器对故障序列〈f1，f2，…，fk〉是强变量分离的.
　　定义9. 一个检测器对FΘd是强变量分离的，若它对由FΘd中的所有故障所组成的所有故障序列都是强变量分离的.
　　定义10. 设k是一个最小整数，它满足对一个故障序列〈f1,f2…，fk〉，fi∈FΘd,i=1,2,…,k,实现函数Θd〈f1,f2…，fk〉的检测器丧失变量分离特性，且不存在一个合法输入矢量能检测到该故障序列.那么，该检测器是k-容错部分强变量分离的，如果该检测器是变量分离的，且对任意故障序列和任何整数q，1≤q≤k-1，或者检测器是变量分离的，或者故障序列〈f1,f2…，fq〉可被检测到.
　　定义11. 一个检测器对于故障集FΘd是强自校验的，如果在任何故障产生前，它是变量分离的，对f∈FΘd，或者①检测器是自测试和故障保险的；或者②检测器是故障保险的，且总是将非法输入矢量映射至非法输出矢量，而且若另一个故障f′∈FΘd产生，则检测器对于该故障序列，①或者②成立.
　　定义12. 设k是一个最小整数，它满足对一个故障序列〈f1,f2…，fk〉，fi∈FΘd,i=1,2,…,k,实现函数Θd〈f1,f2…，fk〉的检测器丧失变量分离和故障保险特性，且不存在一个合法输入矢量能检测到该故障序列.那么，该检测器是k-容错部分强自校验的，如果该检测器是变量分离和故障保险的，且对任意故障序列和任何整数q，1≤q≤k-1，检测器或者是变量分离和故障保险的，或者故障序列〈f1,f2…，fq〉可被检测到.
　　定义13. 一个电路对FΘd是部分自校验的检测器，若它是变量分离的和部分自校验的.
　　在上述定义中，有些定义可从文末所列的有关参考文献的相关定义直接引出，如定义7可由文献［14］的相关概念引出.
4.2　基于部分自校验的并发差错检测新概念
　　根据途径1至途径4所实现的电路的并发差错检测能力是依次减弱的.具体表现在故障被检测到的时机的逐渐滞后(途径2)，所允许的故障序列的长度加以限制(途径3)，电路所考虑的故障集逐步缩小(途径4)等.结合途径2和途径4的思想，可提出基本电路有限实现完全自校验目标的第5种途径.
　　途径5. 在精简的故障F＃(F＃F)集上使电路具有精简强故障保险(reduced SFSE，RSFSE)特性.表征基本电路特性的相关概念可定义如下.
　　定义14. 一个基本电路是精简强故障保险的，若①电路对Sn(Xm)及F＃STF＃，F＃F是自测试的，并且②对SSn(Xm)Sn(Xm)和F＃SEF＃ST是故障保险的，或者仅②成立；而若有F＃ST中的另一个故障产生，则电路对所产生的多故障，①和②，或者仅②成立.
　　沿用这一思想，可定义精简强变量分离(reduced SVD，RSVD)检测器和精简强自校验(reduced SSC，RSSC)检测器.
　　定义15. 一个检测器是精简强变量分离的，若①检测器是部分自校验的，或②检测器是变量分离的，而若有F＃ΘdSTF＃Θd，F＃ΘdFΘd中的另一个故障产生，则检测器对所产生的多故障，①或②成立.
　　定义16. 一个检测器是精简强自校验的，若它在无故障的情况下是变量分离的，且①检测器对Sn(Xm)及F＃ΘdSTF＃Θd，F＃ΘdFΘd是自测试的，并且对SSn（Xm）Sn(Xm)和F＃ΘdSEF＃ΘdST是故障保险的；或者②对SSn（Xm）和F＃ΘdSE是故障保险的，且将非法输入矢量映射为非法输出矢量.而且若有FΘdST中的另一个故障产生，则检测器对所产生的多故障，①或者②成立.
　　结合途径3和途径5的思想，可提出基本电路有限实现完全自校验目标的第6种途径.
　　途径6. 使电路具有k-容错精简强故障保险(k-fault-tolerant reduced SFSE，k-FT RSFSE)特性.表征基本电路特性的相关概念可定义如下.
　　定义17. 设k是一个最小整数，它满足对一个故障序列〈f1,f2…，fk〉，fi∈F＃, i=1,2,…,k，F＃F，实现函数G〈f1,f2…，fk〉的电路丧失故障保险特性，且不存在一个合法输入矢量能检测到该故障序列.那么，该电路是k-容错精简强故障保险的，如果该电路是故障保险的，且对任意故障序列和任何整数q，1≤q≤k-1，或者电路是故障保险的，或者故障序列〈f1,f2…，fq〉可被检测到.
　　定义18. 设k是一个最小整数，它满足对一个故障序列〈f1,f2…，fk〉，fi∈F＃Θd，i=1,2,…,k，F＃ΘdFΘd，实现函数Θd〈f1,f2…，fk〉的检测器丧失变量分离特性，且不存在一个合法输入矢量能检测到该故障序列.那么，该检测器是k-容错精简强变量分离(k-fault-tolerant reduced SVD，k-FT RSVD)的，如果该检测器是变量分离的，且对任意故障序列和任何整数q，1≤q≤k-1，或者检测器是变量分离的，或者故障序列〈f1,f2，…，fq〉可被检测到.
　　定义19. 设k是一个最小整数，它满足对一个故障序列〈f1,f2…，fk〉，fi∈F＃Θd，i=1,2,…,k，F＃ΘdFΘd，实现函数Θd〈f1,f2…，fk〉的检测器丧失变量分离和故障保险特性，且不存在一个合法输入矢量能检测到该故障序列.那么，该检测器是k-容错精简强自校验的(k-fault-tolerant reduced SSC，k-FT RSSC)，如果该检测器是变量分离和故障保险的，且对任意故障序列和任何整数q，1≤q≤k-1，检测器或者是变量分离和故障保险的，或者故障序列〈f1,f2…，fq〉可被检测到.
　　有关并发差错检测电路的主要概念之间的关系如图3所示，其中，本文所定义的概念用*号加以注明.

图3　主要并发差错检测概念之间的关系
5　基本功能模块与检测器互连的条件
　　基本功能模块与检测器互连的条件，一是取决于它们级联所构成的基本电路应具有的并发差错检测特性，二是取决于所选用的基本功能模块和检测器所具有的并发差错检测特性.
　　定理1. 一个由强故障保险的基本功能模块和强变量分离的检测器所构成的基本电路是强故障保险的.
　　推论1. 一个由强故障保险的基本功能模块和非强变量分离的检测器所构成的基本电路是非强故障保险的.
　　定理1和推论1的证明可由文献［5］的相关结论直接得到.由定理1还可导出如下推论.
　　推论2. 一个由强故障保险的基本功能模块和强自校验的检测器所构成的基本电路是强故障保险的.
　　定理2. 一个由k-容错部分强故障保险的基本功能模块和k-容错部分强变量分离的检测器所构成的基本电路至少是k-容错部分强故障保险的.
　　证明. 在无故障情况下，基本功能模块是故障保险的，检测器是变量分离的.当故障发生时，它可能影响基本功能模块或检测器.分如下3种情况讨论：
　　(1) 所产生的初始k-1个故障全部在基本功能模块内.由于它是k-容错部分强故障保险的，因此，基本功能模块保持强故障保险特性，即在假设3下，在相邻两个故障产生的时间间隔内，所有原始合法输入矢量均会出现在基本功能模块的输入端.基本功能模块将或者给出合法输出，或者给出非法输出.由于检测器是强变量分离的，因此，对应于基本功能模块的两类输出，基本电路或者给出合法输出，或者给出差错检测指示.这样，基本电路是强故障保险的.而当第k个故障在基本功能模块中产生时，它将无法确保故障保险特性，因为它可能产生一个错误的合法输出，此时，检测器必定给出合法输出.这样，基本功能模块中的这一故障就是不可检测的.因此，基本电路是k-容错部分强故障保险的.
　　(2) 所产生的初始k-1个故障全部在检测器内.由于它是k-容错部分强变量分离的，因此，检测器保持强变量分离特性，即在假设3下，在相邻两个故障产生的时间间隔内，检测器可获得它的所有输入矢量.它或者给出非法输出(检测到故障)，或者仍能正常工作.因此，基本电路或者给出合法输出，或者给出差错指示.这样，基本电路是强故障保险的.当第k个故障在检测器中产生时，它处于非保险状态，不再确保提供变量分离功能.因此，基本电路是k-容错部分强故障保险的.
　　(3) 基本功能模块和检测器内部均产生故障，但它们分别都不超过k-1个(极端情况是它们分别有k-1个故障).由(1)和(2)的分析和结论可知，此时，基本电路仍是强故障保险的.当电路中再产生另一个故障时，基本电路将不再确保强故障保险特性.这样，基本电路是(k+p)-容错部分强故障保险(0<p<k)的.
　　综合上述情况分析，可知基本电路是(k+p)-容错部分强故障保险(0≤p＜k)的.
证毕.
　　推论3. 一个由k-容错部分强故障保险的基本功能模块和非k-容错部分强变量分离的检测器所构成的基本电路不是k-容错部分强故障保险的.
　　证明. 根据定义，若检测器不是k-容错部分强变量分离的，则存在一个故障序列〈f1，f2，…，fj〉(1≤j＜k)，它使得检测器：① 内部故障f1，f2，…，fj逐个发生，且是不可检测的；② 当〈f1，f2，…，fj〉不可检测时，检测器存在一个非法输入，它使检测器错误地给出合法输出.这就意味着基本功能模块的这一非法输出将无法被检测到.因此，基本电路不是k-容错部分强故障保险的.
证毕.
　　推论4. 一个由k-容错部分强故障保险的基本功能模块和k-容错部分强自校验的检测器所构成的基本电路至少是k-容错部分强故障保险的.
　　上述推论可直接由定理2导出.
　　设基本电路所考虑的故障集F＃满足F＃ST＝F＃SE＝F＃.不难看出，只要将F替换为F＃，由定理1、推论1和推论2可分别导出下列定理3、推论5和推论6；而由定理2、推论3和推论4可分别导出下列定理4、推论7和推论8.
　　定理3. 一个由精简强故障保险的基本功能模块和精简强变量分离的检测器所构成的基本电路是精简强故障保险的.
　　推论5. 一个由精简强故障保险的基本功能模块和非精简强变量分离的检测器所构成的基本电路是非精简强故障保险的.
　　推论6. 一个由精简强故障保险的基本功能模块和精简强自校验的检测器所构成的基本电路是精简强故障保险的.
　　定理4. 一个由k-容错精简强故障保险的基本功能模块和k-容错精简强变量分离的检测器所构成的基本电路至少是k-容错精简强故障保险的.
　　推论7. 一个由k-容错精简强故障保险的基本功能模块和非k-容错精简强变量分离的检测器所构成的基本电路不是k-容错精简强故障保险的.
　　推论8. 一个由k-容错精简强故障保险的基本功能模块和k-容错精简强自校验的检测器所构成的基本电路至少是k-容错精简强故障保险的.
　　表1给出了所有基本功能模块与检测器(校验器)互连，以构成具有不同并发差错检测特性的基本电路所需满足的条件.
表1　基本功能模块与检测器(校验器)互连的条件
基本电路基本功能模块检测器(校验器)作　　者互连条件
TSCTSCTSCSellers等人、Carter等人［3］　
TSCTSCCD+STTamir等人［3，11］　
SFSESFSE　SCD(SVD)Smith等人［7］、Nicolaidis等人提出双轨码和系统码SCD校验器方案［5］Nicolaidis等给出证明［5］
SFSE
　SFSE
　SSC
　Jha提出CMOS CVS奇偶码和CMOS DCVS双轨码SSC校验器方案［13,14］本文给出证明
k-FT PSFSEk-FT PSFSEk-FT PSCD(k-FT PSVD)Lo等人提出组合NMOS 3中取1码2-FT PSCD校验器方案［12］( 开关级故障模型，且考虑了布局上的若干开路和短路故障)本文给出证明
k-FT PSFSEk-FT PSFSEk-FT PSSCWang和Lala提出组合门级3中取1码3-FT PSSC校验器方案［9］( 门级故障模型)本文给出证明
PSCPSCPSCWakerly等人［9］　
RSFSERSFSERSSC本文提出本文给出证明
RSFSERSFSERSVD本文提出本文给出证明
k-FT RSFSEk-FT RSFSEk-FT RSVD本文提出本文给出证明
k-FT RSFSEk-FT RSFSEk-FT RSSC本文提出本文给出证明
6　结论
　　近年来，人们越来越注重于在更合理的故障模型下研究校验器的实现技术，并采用更有实际意义的并发差错检测概念来描述所获得的并发差错检测电路.本文在研究了已有并发差错检测概念的基础上，提出了描述基于部分自校验的并发差错检测机制的一组新概念：精简强故障保险、精简强变量分离、精简强自校验、k-容错精简强故障保险、k-容错精简强变量分离和k-容错精简强自校验，着重研究了并发差错检测概念(包括本文所提出的新概念)之间的关系，证明了用基本功能模块与检测器互连，以构造几种具有不同并发差错检测特性的基本电路所需满足的条件.它们为深入理解并发差错检测电路的工作原理，进一步研究新的电路结构和实现方法提供了技术基础. 
注：本课题得到国家自然科学基金(项目编号69733010)、上海高等学校青年教师学术基金和中国科学院计算技术研究所CAD开放实验室开放课题基金资助.
作者简介：江建慧，男，1964年11月生，副教授，博士研究生，研究领域为容错计算、数字系统CAD和CAT、实时分布式系统、交通信息工程与控制.
闵应骅，男，1935年12月生，研究员，博士生导师，IEEE Fellow，研究领域为容错与测试、软件可靠性等.
施鸿宝，男，1937年3月生，教授，博士生导师，主要研究领域为神经网络、专家系统、知识获取、智能调度与控制系统.
作者单位：江建慧　施鸿宝　上海铁道大学计算技术研究所　上海　200331
闵应骅　江建慧　中国科学院计算技术研究所CAD开放实验室　北京　100080
参考文献
1　　胡谋. 计算机容错技术. 北京: 中国铁道出版社. 1995
　　　(Hu Mou, Computer Fault Tolerant Techniques (in Chinese). Beijing: China Railway Publishing House, 1995)
2　　Lala P K. Fault Tolerant and Fault Testable Hardware Design. Englewood Cliffs, N J: Prentice-Hall, 1985
3　　Rao T R N, Fujiwara E. Error-Control Coding for Computer Systems. Englewood Cliffs, N J: Prentice-Hall, 1989
4　　Jiang Jianhui, Hu Mou. The extended self-checking properties of alternating-complementary logic systems. In: Proc of International Workshop on Computer-Aided Design, Test, and Evaluation for Dependability. Beijing: International Academic Publishers, 1996. 258～263
5　　Nicolaidis M, Courtois B. Strongly code disjoint checkers. IEEE Trans on Computers, 1988, 37(6): 751～756
6　　Min Y, Li J. Strongly fault secure PLAs and totally self-checking checkers. IEEE Trans on Computers, 1988, 37(7): 863～867
7　　Smith J E, Metze G. Strongly fault secure logic networks. IEEE Trans on Computers, 1978, 27(6): 491～499
8　　Wang J Q, Lala P K. Partially strongly fault secure and partially strongly code disjoint 1-out-of-3 code checker. IEEE Trans on Computers, 1994, 43(10): 1238～1240
9　　Wakerly J. Partially self-checking circuits and their use in performing logical operations. IEEE Trans on Computers, 1974, 23(7): 658～666
10　　江建慧, 胡谋. 安全逻辑器件与CMOS B/T逻辑电路及其噪声容限. 计算机研究与发展, 1993, 30(5): 55～61
　　　(Jiang Jianhui, Hu Mou. Safe logic elements CMOS B/T logical circuits and their noise margins. Journal of Computer Research and Development (in Chinese), 1993, 30(5): 55～61)
11　　Tamir Y, Sequin C H. Design and application of self-testing comparators implemented with MOS PLA's. IEEE Trans on Computers, 1984, 33(6): 493～506
12　　Lo J C, Thanawastien S. On the design of combinational totally self-checking 1-out-of-3 coed checker. IEEE Trans on Computers, 1990, 39(3): 387～393
13　　Jha N K. Strongly fault-secure and strongly self-checking domino-CMOS implementations of totally self-checking circuits. IEEE Trans on Computer-Aided Design of Integrated Circuits and Systems, 1990, 9(3): 332～336
14　　Jha N K. Fault detection in CVS parity trees with application to strongly self-checking parity and two-rail checker. IEEE Trans on Computers, 1993, 42(2): 179～189
原稿收到日期：1998-12-29；修改稿收到日期：1999-04-07.
