计算机研究与发展
JOURNAL OF COMPUTER RESEARCH AND DEVELOPMENT
1999年 第36卷 第5期 Vol.36 No.5 1999



开放逻辑中基于一优先序的R-重构
苏开乐
摘　要　在开放逻辑中，R-重构作为一知识库或信念集修正的结果并不唯一，有时甚至太多而难于明确计算和表示.为此，文中给出了基于一优先序的R-重构的概念.基于一优先序的R-重构往往要比R-重构少得多，不存在上述R-重构的问题，在用户给出的关于一知识库中知识的优先序时，基于该优先序的R-重构可以用来刻画对该知识库的合理维护.文中从开放逻辑中的模型论概念——事实反驳出发，给出了基于优先序的重构的定义，刻画了这类重构的一系列重要性质，如可靠性，存在性，相对于优先序关系的单调性，以及连续性等.
关键词　逻辑，信念修正，优先序，R-重构
中图法分类号　TP18
R-RECONSTRUCTIONS BASED ON A PRIORITY RELATION
SU Kai-Le
(Science Center,Shantou University,Shantou　515063)
Abstract　In open logic the notion of R-reconstruction plays an essential role. However, R-reconstructions can be too numerous to compute and to list out. Based on a priority relation a new notion of R-reconstruction is proposed, which does not have the problem mentioned above. Moreover, the notion is reasonable in characterizing the update of a knowledge base when some priority relation among the pieces of the knowledge base is given. Starting by the model-theoretic notion of rejection by fact in open logic, the definition of R-reconstruction is given based on priority relation. Then proved are a series of important properties about this kind of R-reconstructions, including soundness, existence, monotonicity, and continuity.
Key words　logic, belief revision, priority relation, R-reconstruction
　　近10年来人们在人工智能及相关领域提出了许多关于信念修正的理论.从抽象的和哲学的角度，人们主要研究合理的信念修正应该满足什么形式规律，如Alchourron等人提出的AGM理论［1］.在人工智能方面，人们则遵守某种极小变化原则提出了很多信念修正和更新的具体方法，如基于模型的方法［2］，基于语形的方法［3］.我国学者李未提出的开放逻辑［4］，从理想事实反驳等模型论的概念出发，但考虑的修正或变化的单元是知识库中的公式，因而可以看作以上两类方法的结合.此外，开放逻辑还具有以下两个特征：一是开放逻辑中的知识库或假设集Γ不必是一个理论，即有时有Th(Γ)≠Γ；二是明确的考虑多次甚至无限次修正或更新的迭代序列.由于任何知识系统实际上都不可能知道它的所有逻辑推论（即所谓的逻辑全知问题），又由于迭代的修正和更新对于人工智能应用的必要性，以上两个特征成为信念修正理论发展的一个趋势［5,6］.
　　但是，修正假说或更新知识库时，开放逻辑没有考虑假说或知识库中的公式的优先序，而实际上，用户总是对自己的知识库明确或潜在地确定了这种优先序.本文给出了基于优先序的R-重构的概念，合理地刻画了在以上情况之下的假说的修正和知识库的更新.在开放逻辑中，R-重构作为知识库或信念集修正的结果并不唯一，有时甚至太多而难于明确计算和表示，基于优先序的R-重构往往要比R-重构少得多，不存在上述R-重构的问题.更为重要的是本文所讨论的知识库上的优先序与通常信念修正理论中所谓的认知硬度(epistemic entrenchment)(参见文献［5］,［7］)所不同的地方是：前者仅仅是一个良基关系，完全可以由用户随意给出：而后者必须满足许多难于验证（因涉及到较多的逻辑蕴涵关系　—的检测）的条件.本文从开放逻辑中的模型论概念——事实反驳出发，给出了基于优先序的重构的定义，刻画了这类重构的一系列重要性质如可靠性，存在性，相对于优先序关系的单调性，以及连续性等.
1　预备知识及一些基本概念
　　我们根据文献［8］引入一些开放逻辑的基本概念和结果，然后得到基于一优先序的R-重构的模型论的刻画.开放逻辑的研究背景以及其它进一步的工作可以参见文献［8］至文献［12］等.
　　定义1.(事实反驳, 理想事实反驳，R-重构) 令Γ为一假说（即相容句子集合）, A为一句子, ΓA. 我们说一模型M是A的事实反驳，如果M┐A. 此时，我们用记号ΓM(A)表示集合{X∈Γ: MX}. A的事实反驳M称为A的理想事实反驳当且仅当ΓM(A)是极大的，即不存在A的事实反驳M 使得ΓM(A)ΓM(A). 对任何A的理想事实反驳M, 我们称ΓM(A)∪{┑A}为Γ的（关于A的事实反驳M的）R-重构. 
　　定理1.［8］ 令ΓA且存在A的事实反驳. 那么一个集合Q是Γ关于A的事实反驳当且仅当 Q=Δ∪{┑A}, 其中Δ是与┑A相容的Γ的极大子集合.
　　定义2.(上极限，下极限，极限) 对于一假说的序列{Γn}n∈ω我们称集合，分别为该序列的上下极限.如果该序列的上下极限相等，则说该序列收敛，且称该序列的上(下)极限为它的极限，记为lim{Γn}n∈ω.
　　以下我们固定一假说Γ和句子A并设ΓA,且存在A的事实反驳. 对于任意给定的Γ上的良基关系R，我们将给出基于R的R-重构的概念. 首先引入事实反驳之间的一个关系≤R.
　　定义3. 对于任意两个A的事实反驳M和M＊, 我们说M＊≤RM当且仅当对所有X∈Γ，如果 MX且非M＊X那么有Y∈Γ使得YRX, M＊Y且非MY.
　　命题1. 关于≤R以下事实成立:
　　(1) ≤R是一个具有传递性和反身性的关系.
　　(2) 对于A的任意两个事实反驳M和M＊, M＊≤RM当且仅当对集合(ΓM(A)-ΓM(A))∪(ΓM(A)-ΓM(A))中的所有极小元（对于关系R）Z，有Z∈(ΓM(A)-ΓM(A)).
　　证明. 事实1中≤R的反身性直接由定义得到.为证明传递性，假设对A的事实反驳M1，M2，M3有M1≤RM2，M2≤RM3. 我们要证M1≤RM3.令X∈Γ使得M3X且非M1X, 我们将证明存在Y∈Γ使得YRX,M1Y且非M3Y. 
　　　　有两种情况：M2X或非M2X.　首先若M2X，那么根据条件，非M1X，和M1≤RM2，存在公式Y∈Γ使得YRX,M1Y且非M2Y. 令Y1为极小的（关于R）这样的公式, 此时如果非M3Y1，则就是要证明的.否则设M3Y1.根据M2≤RM3，存在Y2∈Γ使得Y2RY1,M2Y1且非M3Y1.　此时由R的传递性得到 Y2RX. 如果有M1Y2，则就是要证明的. 否则，假设非M1Y2.根据M1≤RM2，存在Y3∈Γ使得Y3RY2,M1Y3且非M2Y3. 但是由R的传递性得到 Y3RX，这与Y1的极小性矛盾.
　　在非M2X的情况可类似论证（从M2≤RM3 出发）.
　　以下我们证明事实2.假设M＊≤RM，Z是集合(ΓM(A)-ΓM(A))∪(ΓM(A)-ΓM(A))中的（对于关系R的）极小元，我们要证明Z∈(ΓM(A)-ΓM(A)). 不然，则Z∈(ΓM(A)-ΓM(A)). 由定义1、3得存在Y∈Γ使得YRX且Y∈(ΓM(A)-ΓM(A)), 与Z的极小性矛盾.另一方面，假设对所有集合(ΓM(A)-ΓM(A))∪(ΓM(A)-ΓM(A))中的（对于关系R的）极小元Z，有Z∈(ΓM(A)-ΓM(A))，我们将证明M＊≤RM. 任给定X∈Γ，假设MX且非M＊X即有X∈(ΓM(A)-ΓM(A)). 由假设条件X不是集合(ΓM(A)-ΓM(A))∪(ΓM(A)-ΓM(A))中的极小元，故存在该集合中使得YRX的Y，设Y＊是极小的这样的Y，我们由假设即有Y∈(ΓM(A)-ΓM(A)). 从而Y＊∈Γ, Y＊RX, M＊Y＊且非MY＊. 即证得 M＊≤RM.
　　定义4.（≤R的极小元，基于良基关系R的R-重构）一个A事实反驳M称为关系≤R的极小元，如果不存在任何A的事实反驳M＊使得M＊≤RM但非M≤RM＊. 对任何≤R的极小元M我们称ΓM(A)∪{┐A}为Γ的(关于A的事实反驳的)基于良基关系R的R-重构. 
2　可靠性与存在性定理
　　本节我们给出基于R的R-重构相对于开放逻辑中的R-重构的一个重要性质即定理2, 我们称之为可靠性定理.并主要证明以下基本结果，即基于R的R-重构的存在性定理.
　　定理2. 任何Γ的(关于A的事实反驳的)基于R的R-重构是Γ的R-重构.
　　证明. 由定义直接推出，也可由下一节的命题2和命题3综合而得.
　　引理1. 假定C是关于≤R的链，即C是A的事实反驳的集合且对所有M1,M2∈C有M1≤RM2或M2≤RM1.令
Δ≡{X∈Γ|(M1∈C)(M2∈C)(M2≤M1→M2X)}
那么
　　(1) Δ与┑A相容.
　　(2) 对所有M＊∈C, X＊∈Γ, 如果M＊X 且非X＊∈Δ, 那么有 X＊1∈Γ 使得 X＊1∈Δ, X＊1RX＊, 且 M＊X1.
　　证明. (1) 据一阶逻辑的紧致性只需对任意有限多的X1,…,Xk∈Δ证明{X1,…,Xk}∪{┐A}相容. 由Δ的定义对每一个Xi有一个 Mi1∈C使得对所有 M2∈C有M2≤RMi1 蕴涵M2Xi. 因为C是一个链, 不妨令Mm1是{M11,…,Mk1}中关于≤R的最小元. 这样对所有i(0<i≤k)就有：Mm1Xi. 故{X1,…,Xk}∪{┐A} 相容.
　　(2) 令 M＊∈C, X＊∈Γ 使得 M＊X＊ 且非 X＊∈Δ. 反设对任何 X＊1∈Γ 如果 X＊1RX＊，且MX1那么X＊1Δ. 我们将构造出C中的事实反驳序列 {Mn}和Γ中的句子序列{Yn} 使得对每一个n有: 
　　① Mn+1≤RMn;
　　② MnYn,Mn+1Yn;
　　③ Yn+1是{X∈Γ|XRYn,Mn+1X,MnX}中关于R的极小元.
这样{Yn}就形成了降链，与R是良基关系矛盾. 
　　令 M0=M＊, Y0=X＊. 因为非Y0∈Δ, 故有M1∈C使得M1≤RM0且 M1Y0(Δ的定义). 从而存在 X∈Γ使得 XRY0, M1X, M0X(由 M1≤RM0和 M0Y0), 设Y1是极小（关于R）的这样的X. 
　　假定对任意固定的k我们已经得到 {Mn}n≤k+1和{Yn}n≤k+1 对所有n≤k条件①,②,③被满足. 以下我们给出 Mk+2, Yk+2使得①,②,③对所有n≤k+1成立.
　　首先我们证明M0Yk+1. 由于 MkYk+1, 只需证明对所有0<i≤k： MiYk+1蕴涵Mi-1Yk+1. 反设对某个i（0<i≤k) MiYk+1 但 Mi-1Yk+1. 据 Mi≤RMi-1和 Mi-1Yk+1，将存在X′∈Γ 使得 X′RYk+1, MiX′, 且 Mi-1X′. 由于 Yk+1RYi, YiRYi-1, 我们有 X′RYi和 X′RYi-1. 这与Yi是集合{X∈Γ|XRYi-1, MiX, Mi-1X}中关于R的极小元矛盾.即得 M0Yk+1. 由于Yk+1RY0，我们据反设有Yk+1Δ. 从而存在Mk+2∈C使得Mk+2≤RMk+1且 Mk+2Yk+1. 进而存在Y∈Γ使得YRYk+1, Mk+2Y, Mk+1Y. 令Yk+2为极小的(关于R)这样的Y. 这就给出了 Mk+2, Yk+2并且对所有 n≤k+1 ①,②,③成立.
　　定理3. 存在Γ的(关于A的事实反驳的)基于良基关系R的R-重构.
　　证明. 只需证明关系≤R的极小元存在.为此令C为关系≤R的任给定的链（对于≤R）, Δ如同以上引理所给.由引理的前部分，存在一个Δ∪{┐A}的模型M′. 据引理后一部分知：对所有的M∈C有 M′≤RM. 这样关系≤R的极小元的存在性即可由Zorn引理得到. 
3　单调性及特殊情形的分析
　　假说或知识库Γ上的良基关系R反映了用户对Γ中的假设或信念的信任程度的比较，本节给出的结果说明，这种比较越是完全、精细，用户所得到的基于该比较关系的R-重构则越少.特别，当这种比较达到不能再完全的时候（所对应的R为一全序关系）用户将得到唯一的一个R-重构；当用户对Γ中的信念无所比较时（所对应的R为空集），用户将得到全部的R-重构.
　　命题2.（单调性） 令R＊如同R为Γ上的良基关系，并设RR＊, 那么任何Γ的基于R＊的R-重构必然是Γ的基于R的R-重构.
　　证明. 基于一良基关系的R-重构的定义，我们证明≤R≤R即可，而这又立刻由定义3得到.
　　命题3. 令R为空集合，那么任何R-重构为基于R的R-重构. 
　　证明. 我们证明对任何事实反驳M, M＊有M≤RM＊当且仅当ΓM(A)ΓM(A)即可.事实上，据定义3，M≤RM＊当且仅当对所有 X∈Γ，如果M＊X且非MX那么有Y∈Γ使得YRX,MY且非M＊Y. 由于R为空集合YRX总是不成立，故有M≤RM＊当且仅当对所有X∈Γ非M＊X或MX，当且仅当X∈Γ（M＊X→MX）即ΓM(A)ΓM(A).
　　命题4. 当R为全序关系时，Γ的基于良基关系的R-重构唯一存在.
　　证明. 存在性有定理3给出.为证明唯一性，假设M,M＊为Γ关于A的两个极小的(关于≤R)事实反驳，我们要证明ΓM(A)=ΓM(A). 否则集合(ΓM(A)-ΓM(A))∪(ΓM(A)-ΓM(A))非空，由于R为全序关系（事实上，R为良序关系，因为R的良基性）该集合中存在唯一的一个极小元Z. 当Z属于(ΓM(A)-ΓM(A))时，即有M≤RM＊但非M＊≤RM，从而与M＊是极小元矛盾；当Z属于(ΓM(A)-ΓM(A))时，即有M＊≤RM但非M≤RM＊，从而与M是极小元矛盾.
4　一个信念修正的方法及其连续性
　　本节我们考虑基于良基关系R的R-重构的一个非平凡示例.对任何句子α，用g(α)表示α所对应的哥德儿编码. 表示由哥德儿编码大小确定的句子间的二元关系，即={<α,β>|α,β是句子且g(α)<g(β)}.对任何假说Γ，非永真句子A，我们用Γ*A表示Γ关于A的事实反驳的基于优先序关系↑Γ（即在Γ中的限制）的R-重构（当ΓCA不成立时，总是令Γ*A为 Γ∪{┐A}）.
　　定理4. 对任何Γ的子集Φ,Φ∪{CA}=Γ*A等价于对所有句子α有：α∈Φ当且仅当α与{┐A}∪{β∈Φ|g(β)<g(α)}相容.
　　证明. 我们总是假设ΓCA，否则定理明显成立. 为简单起见，仍用符号表示关系↑Γ.由Γ*A的意义，Γ*A=ΓM(A)∪{┐A}, 其中M为A的基于的一个理想事实反驳.由于Γ├A及Γ相容，我们有┐AΓ，从而Φ∪{┐A}=Γ*A等价于Φ=ΓM(A).由于句子“α∈Φ当且仅当α与{┐A}∪{β∈Φ|g(β)<g(α)}相容”实际上是集合Φ的归纳定义，由集合论中有关归纳定义的定理，满足以上条件的Φ是唯一的.故我们只要证明ΓM(A)满足以上条件即可.反设ΓM(A)不满足以上条件，令α*为最小的使得“α∈ΓM(A)当且仅当α与{┐A}∪{β∈ΓM(A)|g(β)<g(α)且β∈Φ}相容”不成立的句子.因为ΓM(A)与{┐A}相容，故α*与{┐A}∪{β∈ΓM(A)|g(β)<g(α*)}相容, 但αΓM(A).令M*为{┐A，α*}∪{β∈ΓM(A)|g(β)<g(α*)且β∈Φ}的一个模型.那么集合(ΓM(A)-ΓM(A))∪(ΓM(A)-ΓM(A))中的（对于关系的）极小元是α*，而α*∈(ΓM(A)-ΓM(A)). 故由命题1知，M*≤M但非M≤M*，即M是基于的理想事实反驳矛盾.
　　以上定理给出的是信念集修正的结果Γ*A归纳计算的定义.下面给出这种修正方法的一个令人满意的特征即其连续性.
　　定理5. 设{Γn}n∈ω是一收敛的假说序列，A是任意给定的非永真句子，那么
(lim{Γn}n∈ω)*A=lim{Γn*A}n∈ω
　　证明. 我们归纳证明对任何α有以下断言：存在r使得α∈(lim{Γn}n∈ω)*A iff α∈Γn*A对任何n>r成立即可.任给定句子α，假设对任何βα以上断言成立，我们要证对句子α以上断言也成立.
　　由于满足条件βα的β只有有限个，不妨设为β0,…,βk. 对每个βi(i≤k)存在ri使得βi∈(lim{Γn}n∈ω)*A iff βi∈Γn*A对任何n>ri成立.令r*为ri最大者.我们有：
{β|βα,β∈(lim{Γn}n∈ω)*A}={β|βα,β∈Γn*A}对任何n>r*成立.
　　从而对任何n>r*， α∈(lim{Γn}n∈ω)*A iff {α，┐A}∪{β|βα,β∈(lim{Γn}n∈ω)*A}相容（据定理4） iff {α,┐A}∪{β|βα,β∈Γn*A}相容 iff α∈Γn*A (据定理4）.
　　我们指出：
　　（1）哥德尔编码仅反映公式的形式上的复杂性程度.将其作为知识的优先序，反映了人类存简去繁的天性，但哥德尔编码并不能完全反映知识的可信度，因此利用哥德尔编码作为序关系不够合理.事实上，合理的序关系只能由用户根据自己的经验不断调整而得到.但是，本节的结果可以推广到一类范围较广的可信序关系上去.对任何公式α，令μ（α）为一实数表示α的可信度（但α越可信，μ（α）反而越小）. μ={〈α,β〉|α,β是句子且μ(α)<μ(β)}.对任何假说Γ，非永真句子A，我们用Γ*μA表示Γ关于A的事实反驳的基于优先序关系μ↑Γ（即μ在Γ中的限制）的R-重构（当Γ├A不成立时，总是令Γ*μA为Γ∪{┐A}）.那么在对全体可满足公式而言μ是良序关系时，定理4、定理5都成立（分别将*改为*μ，g改为μ）.
　　（2）从定理4给出的递归式我们可以得到R重构的一个算法，但在全一阶语言范围之内，这个算法并不是能行可操作的，因为要经常判断一公式集合可否满足.然而，对于知识维护这类如此艰巨复杂的任务，严格能行可操作的算法常常很难找到，我们也许应该使用一些启发式的，人机交互式的算法. 
　　本文从开放逻辑中的模型论概念——事实反驳出发，给出了基于优先序的R-重构的概念.较之一般意义下的R-重构，这种R-重构在用户给出的关于知识库中知识的优先序时，可以用来刻画对该知识库的合理维护并同时反映用户的这种可信序关系；另一方面，一般意义下的R-重构有时太多而难于明确计算和表示，基于优先序的R-重构往往要比R-重构少得多，不存在上述R-重构的问题.我们系统地给出了基于优先序的R-重构一些重要的又令人满意的性质，如可靠性、存在性、单调性、连续性等.本文进一步的工作是利用这些性质，构造恰当的R-重构的渐近产生方法.
本课题得到国家“八六三”高技术计划、国家自然科学基金(项目编号 19601013)和广东省自然科学基金(项目编号 970376)资助.
作者简介：苏开乐，男，1964年9月生，博士，副教授，主要研究领域为计算机科学与人工智能中的逻辑和算法.
作者单位：汕头大学科学院　汕头　515063
参考文献
　1　Alchourron C, Gadenfors P, Makison D. On the logic of theory change: Partial meet function for contraction and revision. Journal of Symbolic Logic,1985,50(2):510～530
　2　Winslett M. Updating Logical Databases. Cambridge:Cambridge University Press, 1990
　3　Ginsberg M L. Counterfactual. Artificial Intelligence,1986,30(1):35～79
　4　Li Wei. An introduction to open logic system. In: Proc of Int Conf for Young Computer Scientists.Beijing,1991.21～28
　5　Williams M. Transmutations of knowledge system. In: Proc of KR-94. San Francisco:Morgan Kaufmann,1994.619～629
　6　Lemann D. Belief revision, revised. In: Proc IJCAI-95. Montreal, 1995.1534～1540
　7　Bai S. Reasoning by Argueing: A game-theoretic approach.In: Proc of IFIP '92 Workshop on Automated Reasoning.New York: Elsevier Science Publisher B V,1992
　8　Li Wei. An open logic system. Science in China(Series A), 1993,(3):362～375
　9　苏开乐. 开放逻辑中的R-重构. 科学通报, 1994, 39(5):385～387
(Su Kaile.R-reconstruction in open logic. Chinese Science Bulletin(in Chinese), 1994,39(5):385～387)
　10　Li Wei. A logic framework for knowledge base maintenance. Journal of Computer Science and Technology, 1995,10(3):193～201
　11　苏开乐，丁德成，孙智伟等. 开放逻辑中的合理事实反驳模型类. 计算机学报， 1994,17(5):361～366
(Su Kaile,Ding Decheng,Sun Zhiwei et al.Classes of models for a rejection by reasonable facts.Chinese Journal of Computers(in Chinese),1994,17(5):361～366)
　12　Su K, Ding D. On Etherington's procedures for generating extensions. Science in China(Series A), 1995,38(Supp):81～90
原稿收到日期：1997-07-30
修改稿收到日期：1998-05-22
